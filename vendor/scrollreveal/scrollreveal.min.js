!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.ScrollReveal=t()}(this,function(e,t,n){return function(){"use strict";var e,t,n;this.ScrollReveal=function(){function i(n){return"undefined"==typeof this||Object.getPrototypeOf(this)!==i.prototype?new i(n):(e=this,e.tools=new t,e.isSupported()?(e.tools.extend(e.defaults,n||{}),r(e.defaults),e.store={elements:{},containers:[]},e.sequences={},e.history=[],e.uid=0,e.initialized=!1):"undefined"!=typeof console&&null!==console&&console.log("ScrollReveal is not supported in this browser."),e)}function r(t){var n=t.container;return n&&"string"==typeof n?t.container=window.document.querySelector(n):(n&&!e.tools.isNode(n)&&(console.log("ScrollReveal: Invalid container provided, using <html> instead."),t.container=null),null==n&&(t.container=window.document.documentElement),t.container)}function o(){return++e.uid}function s(t,n){t.config?t.config=e.tools.extendClone(t.config,n):t.config=e.tools.extendClone(e.defaults,n),"top"===t.config.origin||"bottom"===t.config.origin?t.config.axis="Y":t.config.axis="X",("top"===t.config.origin||"left"===t.config.origin)&&(t.config.distance="-"+t.config.distance)}function a(e){var t=window.getComputedStyle(e.domEl);e.styles||(e.styles={transition:{},transform:{},computed:{}},e.styles.inline=e.domEl.getAttribute("style")||"",e.styles.inline+="; visibility: visible; ",e.styles.computed.opacity=t.opacity,t.transition&&"all 0s ease 0s"!=t.transition?e.styles.computed.transition=t.transition+", ":e.styles.computed.transition=""),e.styles.transition.instant=l(e,0),e.styles.transition.delayed=l(e,e.config.delay),e.styles.transform.initial=" -webkit-transform:",e.styles.transform.target=" -webkit-transform:",f(e),e.styles.transform.initial+="transform:",e.styles.transform.target+="transform:",f(e)}function l(e,t){var n=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; transition: "+e.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; "}function f(e){var t=e.config,n=e.styles.transform;parseInt(t.distance)&&(n.initial+=" translate"+t.axis+"("+t.distance+")",n.target+=" translate"+t.axis+"(0)"),t.scale&&(n.initial+=" scale("+t.scale+")",n.target+=" scale(1)"),t.rotate.x&&(n.initial+=" rotateX("+t.rotate.x+"deg)",n.target+=" rotateX(0)"),t.rotate.y&&(n.initial+=" rotateY("+t.rotate.y+"deg)",n.target+=" rotateY(0)"),t.rotate.z&&(n.initial+=" rotateZ("+t.rotate.z+"deg)",n.target+=" rotateZ(0)"),n.initial+="; opacity: "+t.opacity+";",n.target+="; opacity: "+e.styles.computed.opacity+";"}function u(t){var n=t.config.container;n&&-1==e.store.containers.indexOf(n)&&e.store.containers.push(t.config.container),e.store.elements[t.id]=t}function c(t,n,i){var r={selector:t,config:n,interval:i};e.history.push(r)}function d(){if(e.isSupported()){g();for(var t=0;t<e.store.containers.length;t++)e.store.containers[t].addEventListener("scroll",p),e.store.containers[t].addEventListener("resize",p);e.initialized||(window.addEventListener("scroll",p),window.addEventListener("resize",p),e.initialized=!0)}return e}function p(){n(g)}function h(){var t,n,i,r;e.tools.forOwn(e.sequences,function(o){r=e.sequences[o],t=!1;for(var s=0;s<r.elemIds.length;s++)i=r.elemIds[s],n=e.store.elements[i],E(n)&&!t&&(t=!0);r.active=t})}function g(){var t,n;h(),e.tools.forOwn(e.store.elements,function(i){n=e.store.elements[i],t=b(n),y(n)?(t?n.domEl.setAttribute("style",n.styles.inline+n.styles.transform.target+n.styles.transition.delayed):n.domEl.setAttribute("style",n.styles.inline+n.styles.transform.target+n.styles.transition.instant),v("reveal",n,t),n.revealing=!0,n.seen=!0,n.sequence&&m(n,t)):w(n)&&(n.domEl.setAttribute("style",n.styles.inline+n.styles.transform.initial+n.styles.transition.instant),v("reset",n),n.revealing=!1)})}function m(t,n){var i=0,r=0,o=e.sequences[t.sequence.id];o.blocked=!0,n&&"onload"==t.config.useDelay&&(r=t.config.delay),t.sequence.timer&&(i=Math.abs(t.sequence.timer.started-new Date),window.clearTimeout(t.sequence.timer)),t.sequence.timer={started:new Date},t.sequence.timer.clock=window.setTimeout(function(){o.blocked=!1,t.sequence.timer=null,p()},Math.abs(o.interval)+r-i)}function v(e,t,n){var i=0,r=0,o="after";switch(e){case"reveal":r=t.config.duration,n&&(r+=t.config.delay),o+="Reveal";break;case"reset":r=t.config.duration,o+="Reset"}t.timer&&(i=Math.abs(t.timer.started-new Date),window.clearTimeout(t.timer.clock)),t.timer={started:new Date},t.timer.clock=window.setTimeout(function(){t.config[o](t.domEl),t.timer=null},r-i)}function y(t){if(t.sequence){var n=e.sequences[t.sequence.id];return n.active&&!n.blocked&&!t.revealing&&!t.disabled}return E(t)&&!t.revealing&&!t.disabled}function b(t){var n=t.config.useDelay;return"always"===n||"onload"===n&&!e.initialized||"once"===n&&!t.seen}function w(t){if(t.sequence){var n=e.sequences[t.sequence.id];return!n.active&&t.config.reset&&t.revealing&&!t.disabled}return!E(t)&&t.config.reset&&t.revealing&&!t.disabled}function x(e){return{width:e.clientWidth,height:e.clientHeight}}function T(e){if(e&&e!==window.document.documentElement){var t=C(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function C(e){var t=0,n=0,i=e.offsetHeight,r=e.offsetWidth;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n,height:i,width:r}}function E(e){function c(){var t=a+o*r,c=l+s*r,d=f-o*r,p=u-s*r,h=i.y+e.config.viewOffset.top,g=i.x+e.config.viewOffset.left,m=i.y-e.config.viewOffset.bottom+n.height,v=i.x-e.config.viewOffset.right+n.width;return m>t&&d>h&&c>g&&v>p}function d(){return"fixed"===window.getComputedStyle(e.domEl).position}var t=C(e.domEl),n=x(e.config.container),i=T(e.config.container),r=e.config.viewFactor,o=t.height,s=t.width,a=t.top,l=t.left,f=a+o,u=l+s;return c()||d()}return i.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:null,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},afterReveal:function(e){},afterReset:function(e){}},i.prototype.isSupported=function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e},i.prototype.reveal=function(t,n,i,l){var f,p,h,g,m,v;if(f=n&&n.container?r(n):e.defaults.container,p=e.tools.isNode(t)?[t]:Array.prototype.slice.call(f.querySelectorAll(t)),!p.length)return console.log('ScrollReveal: reveal on "'+t+'" failed, no elements found.'),e;n&&"number"==typeof n&&(i=n,n={}),i&&"number"==typeof i&&(v=o(),m=e.sequences[v]={id:v,interval:i,elemIds:[],active:!1});for(var y=0;y<p.length;y++)g=p[y].getAttribute("data-sr-id"),g?h=e.store.elements[g]:(h={id:o(),domEl:p[y],seen:!1,revealing:!1},h.domEl.setAttribute("data-sr-id",h.id)),m&&(h.sequence={id:m.id,index:m.elemIds.length},m.elemIds.push(h.id)),s(h,n||{}),a(h),u(h),e.tools.isMobile()&&!h.config.mobile||!e.isSupported()?(h.domEl.setAttribute("style",h.styles.inline),h.disabled=!0):h.revealing||h.domEl.setAttribute("style",h.styles.inline+h.styles.transform.initial);return!l&&e.isSupported()&&(c(t,n),e.initTimeout&&window.clearTimeout(e.initTimeout),e.initTimeout=window.setTimeout(d,0)),e},i.prototype.sync=function(){if(e.history.length&&e.isSupported()){for(var t=0;t<e.history.length;t++){var n=e.history[t];e.reveal(n.selector,n.config,n.interval,!0)}d()}else console.log("ScrollReveal: sync failed, no reveals found.");return e},i}(),t=function(){function e(){}return e.prototype.isObject=function(e){return null!==e&&"object"==typeof e&&e.constructor==Object},e.prototype.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.prototype.forOwn=function(e,t){if(!this.isObject(e))throw new TypeError('Expected "object", but received "'+typeof e+'".');for(var n in e)e.hasOwnProperty(n)&&t(n)},e.prototype.extend=function(e,t){return this.forOwn(t,function(n){this.isObject(t[n])?(e[n]&&this.isObject(e[n])||(e[n]={}),this.extend(e[n],t[n])):e[n]=t[n]}.bind(this)),e},e.prototype.extendClone=function(e,t){return this.extend(this.extend({},e),t)},e.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e}(),n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}.call(this),this.ScrollReveal});